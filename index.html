
<html>
<body>

<script src="/js.cookie.js" aysnc></script>
<link rel="icon" type="image/png" href="/img/favi.png">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Crushed"/>
<div id="signDiv" class = "viral">
	<html height="100%" style = "overflow: hidden;">
<!--<link rel="shortcut icon" href="/img/favi.jpg" />-->
<title>Glork.io</title>
<div >
<style>
.viral {
	background-image: url("/img/virus_background.png");
	background-repeat:no-repeat;
	background-size:cover;
}
.startMenu {
    position: relative;
    margin: auto;
    width: 1150px;
    padding: 10px;
    padding-bottom: 20px;
    margin-top: 100px;
    margin-bottom: 100px;
    border-radius: 5px;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    background-color: #DDE6EB;
    box-sizing: border-box;
    overflow: hidden;
}
.buttonn {
  display: inline-block;
  border-radius: 4px;
  background-color: #f4511e;
  border: none;
  color: #FFFFFF;
  text-align: center;
  font-size: 28px;
  padding: 20px;
  width: 200px;
  transition: all 0.5s;
  cursor: pointer;
  margin: 5px;
}

.buttonn span {
  cursor: pointer;
  display: inline-block;
  position: relative;
  transition: 0.5s;
}

.buttonn span:after {
  content: 'Â»';
  position: absolute;
  opacity: 0;
  top: 0;
  right: -20px;
  transition: 0.5s;
}

.buttonn:hover span {
  padding-right: 25px;
}

.buttonn:hover span:after {
  opacity: 1;
  right: 0;
}
</style>
<style>
.panel {
display:inline-block;
width:300px;
padding-top:10px;
padding-bottom:10px;
padding-left:20px;
padding-right:20px;
background-color: white;
border-radius: 10px;
border: 5px solid black;
font-size:150%;
}
.button {
background-color: #4CAF50; /* Green */
border: none;
color: white;
padding: 10px 10px;
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 16px;
}
.server {
background-color: gray; /* Green */
border: none;
color: black;
padding: 10px 20px;
text-align: center;
text-decoration: none;
display: inline-block;
border-radius: 5px;
font-size: 16px;
}
.playbutton {
background-color: #CC00FF; /* 00b8e6stoplight green */
border: 2 px;
border-radius: 5px;
width:300px;
color: white;
padding: 30px 50px;
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 32px;
}
.playbutton:hover {
background-color: #B800E6;
}
.readbutton {
background-color: #00CCFF; /* stoplight green */
border: 2 px;
border-radius: 5px;
width:300px;
color: white;
padding: 15px 50px;
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 32px;
}
.readbutton:hover {
background-color: #00B8E6;
}
#nam {
	width: 100%;
	white-space: nowrap;
	text-align: center;
   	position: absolute;
	top: 45%;
	transform: translateY(-50%);
	-ms-transform: translateY(-50%);
	-moz-transform: translateY(-50%);
	-webkit-transform: translateY(-50%);
	-o-transform: translateY(-50%);
}

.menuCard {
	vertical-align: top;
	text-align: left;
	white-space: normal;
	word-wrap: break-word;
	margin: 5px;
	display: inline-block;
	width: 300px;
	padding: 18px;
	background-color: #fff;
	-moz-box-shadow: 0px 7px #c4c4c4;
	-webkit-box-shadow: 0px 7px #c4c4c4;
	box-shadow: 0px 7px #c4c4c4;
	-webkit-border-radius: 4px;
	-moz-border-radius: 4px;
	border-radius: 4px;
	overflow: hidden;
}
#gameName {
	font-family: Impact,serif;
	text-align:center;
	font-size: 170px;
	text-shadow:
		0 1px 0 green,
		0 2px 0 green,
		0 3px 0 green,
		0 4px 0 green,
		0 5px 0 green,
		0 6px 0 green,
		0 7px 0 green,
		0 8px 0 green,
		0 9px 0 green;
	color: lime;
}
#signDiv-username {
    text-align: center;
    font-size: 23px;
    margin-bottom: 16px;
    padding: 6px;
    border: none;
    outline: none;
    box-sizing: border-box;
    color: #4A4A4A;
    background-color: #e5e3e3;
    width: 100%;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
}
#welcome {
    font-family: 'Hammersmith One';
	font-color: 'gray';
	font-size: 36px;
}
#cookies_check_box {
  display: none;
  position:absolute;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
#cookies_check {
  background: rgba(0, 0, 0, 0.8);
  border-radius: 14px 0px 0px 14px;
  padding-left: 10px;
  padding-right: 10px;
  padding-top: 10px;
  padding-bottom: 20px;
  border:solid 2px #47310f;
  height:40px;
  font-size: 14px;
  width:300px;
  color: #FFFFFF;
  font-family: "Baloo Paaji";
}
#got_it {
	display: inline-block;
	background-color: #8a590e;
	border: solid 2px #47310f;
	text-align: center;
	line-height: 15px;
	border-radius: 0px 14px 14px 0px;
	font-size: 20px;
	padding-left: 5px;
	padding-right: 8px;
	//cursor: url(../img/cursor1.png), pointer;;
	padding-top: 28px;
	padding-bottom: 10px;
	position: absolute;
	width: 60px;
  height:33px;
	top: 0px;
	left: 300px;
	color: #FFFFFF;
	font-family: "Baloo Paaji";
}

div#got_it:hover{
  background-color: #47310f;
  border: solid 3px #8a590e;
}
div#got_it:active{
  background-color: #160c03;
  border: solid 3px #572c02;
}

</style>
<!--<div id="cookies_check_box" style="display: inline-block; left:20px; top: 10px;">
 		<div id="cookies_check">
 				This site uses cookies to improve your experience.
 		</div>
 		<div id="got_it"> Got it</div>
 	</div>-->

<div style = "width:100%;height:100%"></div>
<div align="center" id="nam" style="text-align: center;display: inline; visibility: visible; position: fixed; z-index: 1;left: 50%; top: 50%; transform: translate(-50%, -50%);">
<div id="gameName">GLORK.IO</div>
<div class = 'menuCard'style = "display: inline-block; vertical-align: top; left:35%">
<table id = "leader2" class="leaderboard"><caption><b>Today's Leaderboard</caption><tr><th>Rank</th><th>Date</th><th>Player</th><th>Score</th></tr><tr><td colspan="4">Leaderboard Unavailable</td></tr></table>

</div>
<div class="menuCard" style = "display: inline-block; vertical-align: top; text-align:center">
<p id = 'welcome' style = 'display:none; font-size:24px;'><b>Welcome back!</b><br><b>Your high score is <b><strong id = 'cookiescore'></strong><br></p>
<input style="-webkit-user-select: text;" id='signDiv-username' type="text" maxlength="15" placeholder="Name for leaderboard" spellcheck="false" onkeydown="" autofocus="">

<div style="color: #666666 ;text-shadow: -1px 1px rgba(255, 255, 255, 0.3)">
Server: <select id = 'serverSelect' width = '300'></select>
<button class = 'playbutton' onclick = "tutor()">Learn!</button>
<button class = 'playbutton' id = 'signDiv-signIn'>Play!</button>
<br style = 'height: 1px;'>
<a  href ='https://docs.google.com/document/d/e/2PACX-1vTzty3E6JCtsSL5DMr6ccEd6vuu_ugV-iwrnSjVV5NYbsowRnBikQXjTuurwS_CL1DGgQoCWNQ07hyC/pub' target="_blank"><button class = "readbutton">Read!</button></a>
<br>
<a style = 'font-size:24px;'href = 'https://docs.google.com/document/d/e/2PACX-1vSi0lykdn0ALdYgNQaObkr6LXTs0OGnL-6fOAm2vXUTuFEmnCtS12jfKV5zmVcWOSUsQo_4bPiDLHXB/pub' target="_blank">Credits</a>
<!--<input id = "tips?" type = "checkbox" style = 'display:none;'>Game tips-->

<audio id="audiotag1" src="/audio/rad-powerup.mp3" preload="auto"></audio>
<audio id="audiotag2" src="/audio/rad-powerdown.mp3" preload="auto"></audio>
<audio id="audiotag3" src="/audio/rad-damage.mp3" preload="auto"></audio>
<audio id="audiotag4" src="/audio/cell-death.mp3" preload="auto"></audio>
<audio id="audiotag6" src="/audio/cell-slurp.mp3" preload="auto"></audio>
<audio id="audiotag5" src="/audio/medicine.mp3" preload="auto"></audio>
<audio id="audiotag7" src="/audio/cancer.mp3" preload="auto"></audio>
<audio id="audiotag8" src="/audio/host-death.mp3" preload="auto"></audio>
<audio id="audiotag9" src="/audio/revival.mp3" preload="auto"></audio>
<audio id="audiotag10" src="/audio/cancer-spawn.mp3" preload="auto"></audio>
<audio id="audiotag11" src="/audio/player-click.mp3" preload="auto"></audio>
<audio id="audiotag12" src="/audio/player-newtip.mp3" preload="auto"></audio>
<style>
.leaderboard { font-family: "Trebuchet MS", Arial, Helvetica, sans-serif; border-collapse: collapse; width: 100%; font-size:10px;}
.leaderboard tr:nth-child(even){ background-color: #f2f2f2; }
.leaderboard tr:hover{ background-color: #ddd; }
.leaderboard td { border: 1px solid #ddd; padding: 8px; text-align: right }
.leaderboard th { border: 1px solid #ddd; padding: 8px; padding-top: 12px; padding-bottom: 12px; text-align: left; background-color: #1AFF1A; color: black; }
.leaderboard caption { padding-top: 12px; padding-bottom: 12px; text-align: center; background-color: #1AFF1A; color: black; }
.board { vertical-align: top }
.block { vertical-align: middle }
</style>
<script>
/*document.getElementById("got_it").onclick = function(){
	document.getElementById("cookies_check_box").display = "none";
}*/
var localurl  = 'http://localhost:5000/api/leader/virus';
var remoteurl = 'https://salty-scrubland-48776.herokuapp.com/api/leader/virus';
var leaderurl = remoteurl;
const serverurl = ["http://virusio-test1.herokuapp.com","http://glork-usa1.herokuapp.com","http://glork-usa2.herokuapp.com","http://glork-eu1.herokuapp.com","http://glork-eu2.herokuapp.com","http://localhost:2000"];
const servername = ["DEV","US1","US2","EU1","EU2","LC1"];
var serverchoices = "";

var HttpClient = function() {
    this.get = function(aUrl, aCallback) {
        var anHttpRequest = new XMLHttpRequest();
        anHttpRequest.onreadystatechange = function() { 
            if (anHttpRequest.readyState === XMLHttpRequest.DONE) {
               if (anHttpRequest.status === 200) {
                  aCallback(anHttpRequest.responseText);
               }
            }
        }
        anHttpRequest.open( "GET", aUrl, true );            
        anHttpRequest.send();
    }
}
var client = new HttpClient();
var getleader = function() {
   client.get(leaderurl + '?top=10', function(response) {
        document.getElementById("leader").innerHTML = response;
   });
   client.get(leaderurl + '?top=10&today', function(response) {
        document.getElementById("leader2").innerHTML = response;
   });
}
var loadServerOption = function(id){
	client.get(serverurl[id]+"/api/players",function(response){
		var thischoice = "<option" + ((serverchoices ==="")?" selected":"") + " value='" + serverurl[id] + "'>" + servername[id] + " [" + response + " players]</option>";
		serverchoices += thischoice;
		document.getElementById("serverSelect").innerHTML = serverchoices;
		console.log(serverchoices);
	});
}

for(var i=0; i<servername.length; i++){
	loadServerOption(i);
}


//<option value = "http://glork-usa2.herokuapp.com">USA 2</option>

//var yourserver = 'https://virusio-test1.herokuapp.com/';//document.getElementById('serverSelect').value;
//console.log('You where connected to '+yourserver);

</script>

</html>
<br>
<br>
<!--<select class = 'server' id='server' placeholder = 'Select server'>
   <a href = "http://kingofthehillusa1.herokuapp.com"><option id = 'usa1' value='usa1'>USA 1</option></a>
   <!--<option id = 'usa2'value='usa2'>USA 2</option>
   <a href = "http://kingofthehilleu1.herokuapp.com"><option id = 'eu1'value='eu1'>EU 1</option></a>
</select>-->
</div>
</div>
<div class = 'menuCard'style = "display: inline-block; vertical-align: top;">
<div id = "leader">
<style>.leaderboard td { text-align: center }</style>
<table class="leaderboard"><caption><b>All-Time Leaderboard</caption><tr><th>Rank</th><th>Date</th><th>Player</th><th>Score</th></tr><tr><td colspan="4">Leaderboard Unavailable</td></tr></table>
</div>
</div>
</div>
</div>
</div>
<style> 
.alert {
	position:absolute;
	//margin:auto;
	//width:20%;
	left:window.innerWidth/2;
	top:10px;
    color: red;
    -webkit-animation-name: example; /* Chrome, Safari, Opera */
    -webkit-animation-duration: 2s; /* Chrome, Safari, Opera */
    animation-name: example;
    animation-duration: 2s;
	animation-direction: alternate;
    animation-iteration-count: 300;
}
/* Chrome, Safari, Opera */
@-webkit-keyframes example {
    from {color: red;}
    to {color: yellow;}
}
/* Standard syntax */
@keyframes example {
    from {color: red;}
    to {color: yellow;}
}
#deathdiv {
background-image: url("/img/virus_background.png");
	background-repeat:no-repeat;
	background-size:cover;
}
</style>
<div id = "tutorDiv" style = 'display:none;'>
</div>
<div id = "deathDiv" style = 'display:none;'>
<div align="center" id="nam" style="display: inline; visibility: visible; position: fixed; z-index: 1;
left: 50%; top: 50%; transform: translate(-50%, -50%);width:500px;">
<div class="panel">
<h2>ERADICATED</h2>
<p id = 'scored'></p>
<p id = 'best' style = 'display:none;'>New Personal Best!</p>
<br>
<button class = 'playbutton' onclick = "tutor()">Learn!</button><br>
<button class = "playbutton" onclick = "playp();">Play!</button><br>
<a href ='https://docs.google.com/forms/d/e/1FAIpQLScvbeq5FP_tD0j7cHROgq4CBPLMsePMRH9UE7J3g7_hUR-zoA/viewform' target="_blank"><button class = "readbutton">Feedback!</button></a>
</div>
</div>
</div>
<div>

<div id="gameDiv" style="display:none;background-color:#e6e6e6">
	<canvas id="ctx" width="500" height="500" style="border:1px solid #000000;"></canvas>
	<div id = "centerInfoHolder">
	<div id = "vvv"></div>
	</div>
	<div id="topInfoHolder">
			<div id="scoreboard">
			</div>
		</div>
		<canvas id="minimap" width = "150" height = "150" style = 'position:absolute; background-color:white; right:20px; bottom:20px; width="100"; height="100";border:4px solid #000000;overflow-y:scroll;overflow-x:scroll'></canvas>
<style>
#minimap {
opacity:0.5;
}
#vvv {
font-size:30px;
background-color: rgba(255, 255, 255, 0.3);
}
#vvv td {vertical-align:top;}
#topInfoHolder {
	position: absolute;
	right: 20px;
	top: 20px;
}
#rightInfoHolder {
	position: absolute;
	left: 10px;
	top: 15px;
}
#centerInfoHolder {
	position: absolute;
	left:10px;
	text-align:center;
	bottom: 20px;
}
#leadertable{
	width:100%;
	border: 0px solid black;
	border-collapse: collapse;
	font-size: 20px;
	
}
/*
#leadertable tr:nth-child(even){
background-color:rgba(250, 250, 250, 0.4);
}
*/
#leadertable caption {text-align: left; font-size: 34px;}
#scoreboard {
	color: #fff;
	font-size: 32px;
	//font-family: "futura-pt-condensed", "Futura-Condensed", Futura, sans-serif;
	font-family: Crushed;
	text-align: left;
	padding: 10px;
	padding-top: 7px;
	padding-bottom: 4px;
	width: 400px;
	background-color: rgba(0, 0, 0, 0);
	-webkit-border-radius: 4px;
	-moz-border-radius: 4px;
	border-radius: 4px;
}
</style>
</div>
</body>
<script src="/socket.io.js" ></script>
<script src="/player.min.js" ></script>
</html>
